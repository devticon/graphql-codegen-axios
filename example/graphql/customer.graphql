fragment Customer on Customer {
  id
  firstName
  lastName
  email
  projectId
}
mutation upsertCustomer($input: CustomerInsertInput!) {
  insertCustomerOne(object: $input onConflict: {constraint: customer_pkey, update_columns: [email firstName lastName]} ) @nonNullable {
    ...Customer
  }
}

query getCustomerById($id: String! $projectId: uuid!) {
  customerByPk(id: $id projectId: $projectId)  {
    id
  }
}
